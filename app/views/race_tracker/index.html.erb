<div class="race-tracker" data-controller="race-tracker">
  <!-- Header -->
  <header class="header">
    <h1>BMX Race Tracker</h1>
    <button class="settings-btn" data-action="click->race-tracker#toggleSettings">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M12 1v6m0 6v6m-9-9h6m6 0h6m-4.2-7.8L12 3.6 8.4 2.4m0 19.2L12 20.4l3.6 1.2M3.6 8.4L2.4 12l1.2 3.6m19.2 0L20.4 12l1.2-3.6M8.4 21.6l3.6-1.2 3.6 1.2M2.4 8.4l1.2 3.6-1.2 3.6"></path>
      </svg>
    </button>
  </header>

  <!-- Settings Panel -->
  <div class="settings-panel" data-race-tracker-target="settingsPanel" style="display: none;">
    <h2>Race Time Settings</h2>
    <form data-action="submit->race-tracker#saveSettings">
      <div class="form-group">
        <label for="registration-deadline">Registration Deadline:</label>
        <input type="time" id="registration-deadline" name="registration_deadline" 
               data-race-tracker-target="registrationDeadline">
      </div>
      <div class="form-group">
        <label for="race-start-time">Race Start Time:</label>
        <input type="time" id="race-start-time" name="race_start_time" 
               data-race-tracker-target="raceStartTime">
      </div>
      <button type="submit" class="save-btn">Save Settings</button>
    </form>
  </div>

  <!-- Main Content -->
  <main class="main-content">
    <!-- At Gate Counter -->
    <div class="counter-section at-gate">
      <h2>At Gate</h2>
      <div class="counter-display" data-race-tracker-target="atGateDisplay"><%= @at_gate %></div>
      <div class="counter-controls">
        <button class="counter-btn decrement" data-action="click->race-tracker#decrementAtGate">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </button>
        <button class="counter-btn increment" data-action="click->race-tracker#incrementAtGate">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </button>
      </div>
    </div>

    <!-- In Staging Counter -->
    <div class="counter-section in-staging">
      <h2>In Staging</h2>
      <div class="counter-display" data-race-tracker-target="inStagingDisplay"><%= @in_staging %></div>
      <div class="counter-controls">
        <button class="counter-btn decrement" data-action="click->race-tracker#decrementInStaging">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </button>
        <button class="counter-btn increment" data-action="click->race-tracker#incrementInStaging">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </button>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="race-times">
      <span>Registration closes: <span data-race-tracker-target="registrationDisplay">--:--</span></span>
      <span>Race starts: <span data-race-tracker-target="raceStartDisplay">--:--</span></span>
    </div>
  </footer>
</div>