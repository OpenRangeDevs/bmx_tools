<h3 class="font-semibold text-gray-800 mb-4">ðŸ•’ Race Time Settings</h3>

<%= form_with model: race_setting, url: club_race_settings_path(club.slug), 
              method: :patch, local: false,
              data: { turbo: true }, 
              class: "space-y-4" do |form| %>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <!-- Registration Deadline -->
    <div>
      <%= form.label :registration_deadline, "Registration Deadline", 
                     class: "block text-sm font-semibold text-gray-700 mb-2" %>
      <%= form.datetime_local_field :registration_deadline, 
                                   value: race_setting.registration_deadline&.strftime("%Y-%m-%dT%H:%M"),
                                   class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
      <p class="text-xs text-gray-500 mt-1">When registration closes</p>
    </div>

    <!-- Race Start Time -->
    <div>
      <%= form.label :race_start_time, "Race Start Time", 
                     class: "block text-sm font-semibold text-gray-700 mb-2" %>
      <%= form.datetime_local_field :race_start_time, 
                                   value: race_setting.race_start_time&.strftime("%Y-%m-%dT%H:%M"),
                                   class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
      <p class="text-xs text-gray-500 mt-1">When racing begins</p>
    </div>
  </div>

  <div class="text-center">
    <%= form.submit "Update Times", 
                    class: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors" %>
  </div>
<% end %>

<!-- Current Times Display -->
<div class="mt-4 pt-4 border-t border-gray-200">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
    <div class="text-center">
      <span class="font-semibold text-gray-600">Registration Closes:</span><br>
      <span class="text-gray-800">
        <%= race_setting.registration_deadline&.strftime("%B %d, %Y at %I:%M %p") || "Not set" %>
      </span>
    </div>
    <div class="text-center">
      <span class="font-semibold text-gray-600">Race Starts:</span><br>
      <span class="text-gray-800">
        <%= race_setting.race_start_time&.strftime("%B %d, %Y at %I:%M %p") || "Not set" %>
      </span>
    </div>
  </div>
</div>